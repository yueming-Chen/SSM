import { Pipe } from '@angular/core';
import { DomSanitizer } from "@angular/platform-browser";
var HighlightPipe = (function () {
    function HighlightPipe(sanitizer) {
        this.sanitizer = sanitizer;
    }
    HighlightPipe.prototype.transform = function (value, target) {
        if (target == "")
            return value;
        target = target.toLowerCase();
        var idx = 0;
        while (1) {
            idx = value.toLowerCase().indexOf(target, idx);
            if (idx === -1)
                break;
            value = value.slice(0, idx) + "<span class='highlight'>" + value.slice(idx, idx + target.length) + "</span>" + value.slice(idx + target.length);
            idx += 31 + target.length;
        }
        return this.sanitizer.bypassSecurityTrustHtml(value);
    };
    HighlightPipe.decorators = [
        { type: Pipe, args: [{
                    name: 'highlight'
                },] },
    ];
    /** @nocollapse */
    HighlightPipe.ctorParameters = function () { return [
        { type: DomSanitizer, },
    ]; };
    return HighlightPipe;
}());
export { HighlightPipe };
//# sourceMappingURL=highlight.pipe.js.map