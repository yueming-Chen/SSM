{"version":3,"sources":["../../tmp/util/color.ts"],"names":[],"mappings":"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","file":"color.js","sourceRoot":"","sourcesContent":["import { Observer, ConnectableObservable, Observable, Subject } from \"rxjs/Rx\";\nimport { log, bind, leftPad } from \"@ay/util/dist\";\n\nexport class Color {\n  /** red */\n  private _red: number;\n\n  public redChange: Subject<number> = new Subject<number>();\n\n  public get red(): number {\n    return this._red;\n  }\n\n  public set red(red: number) {\n    if (this._red === red) return;\n    this._red = red;\n    this.redChange.next(this._red);\n  }\n\n  /** green */\n  private _green: number;\n\n  public greenChange: Subject<number> = new Subject<number>();\n\n  public get green(): number {\n    return this._green;\n  }\n\n  public set green(green: number) {\n    if (this._green === green) return;\n    this._green = green;\n    this.greenChange.next(this._green);\n  }\n\n  /** blue */\n  private _blue: number;\n\n  public blueChange: Subject<number> = new Subject<number>();\n\n  public get blue(): number {\n    return this._blue;\n  }\n\n  public set blue(blue: number) {\n    if (this._blue === blue) return;\n    this._blue = blue;\n    this.blueChange.next(this._blue);\n  }\n\n  /** hex */\n  private _hex: string;\n\n  public hexChange: Subject<string> = new Subject<string>();\n\n  public get hex(): string {\n    return this._hex;\n  }\n\n  public set hex(hex: string) {\n    if (this._hex === hex) return;\n    this._hex = hex;\n    this.hexChange.next(this._hex);\n  }\n\n  /** h */\n  private _hue: number;\n\n  public hueChange: Subject<number> = new Subject<number>();\n\n  public get hue(): number {\n    return this._hue;\n  }\n\n  public set hue(hue: number) {\n    if (this._hue === hue) return;\n    this._hue = hue;\n    this.hueChange.next(this._hue);\n  }\n\n  /** saturation */\n  private _saturation: number;\n\n  public saturationChange: Subject<number> = new Subject<number>();\n\n  public get saturation(): number {\n    return this._saturation;\n  }\n\n  public set saturation(saturation: number) {\n    if (this._saturation === saturation) return;\n    this._saturation = saturation;\n    this.saturationChange.next(this._saturation);\n  }\n\n  /** brightness */\n  private _brightness: number;\n\n  public brightnessChange: Subject<number> = new Subject<number>();\n\n  public get brightness(): number {\n    return this._brightness;\n  }\n\n  public set brightness(brightness: number) {\n    if (this._brightness === brightness) return;\n    this._brightness = brightness;\n    this.brightnessChange.next(this._brightness);\n  }\n\n  constructor() {\n    this.redChange\n      .merge(this.greenChange)\n      .merge(this.blueChange)\n      .debounceTime(100)\n      .subscribe(this.onRGBChange, this.onError);\n\n    this.hueChange\n      .merge(this.saturationChange)\n      .merge(this.brightnessChange)\n      .debounceTime(100)\n      .subscribe(this.onHSBChange, this.onError);\n\n    this.hexChange\n      .debounceTime(100)\n      .subscribe(this.onHexChange, this.onError);\n  }\n\n  @bind\n  public onRGBChange() {\n    let { hue, saturation, brightness } = Color.RGBtoHSB(this.red, this.green, this.blue);\n    this.hue = hue;\n    this.saturation = saturation;\n    this.brightness = brightness;\n    this.hex = Color.RGBtoHEX(this.red, this.green, this.blue);\n  }\n\n  @bind\n  public onHSBChange() {\n    let { red, green, blue } = Color.HSBtoRGB(this.hue, this.saturation, this.brightness);\n    this.red = red;\n    this.green = green;\n    this.blue = blue;\n  }\n\n  @bind\n  public onHexChange() {\n    let { red, green, blue } = Color.HEXtoRGB(this.hex);\n    this.red = red;\n    this.green = green;\n    this.blue = blue;\n  }\n\n  public onError(err) {\n    console.error(err);\n  }\n\n  static RGBtoHEX(red: number, green: number, blue: number) {\n    red = Math.round(red);\n    green = Math.round(green);\n    blue = Math.round(blue);\n    return (\"#\" + leftPad(red.toString(16), 2, '0') + leftPad(green.toString(16), 2, '0') + leftPad(blue.toString(16), 2, '0')).toUpperCase();\n  }\n\n  static HEXtoRGB(hex: string) {\n    if (hex === undefined) return { red: 0, green: 0, blue: 0 };\n    if (hex.match(/^\\#[A-Z0-9]{6}$/ig)) {\n      return {\n        red: parseInt(hex.substr(1, 2), 16),\n        green: parseInt(hex.substr(3, 2), 16),\n        blue: parseInt(hex.substr(5, 2), 16)\n      }\n    } else if (hex.match(/^\\#[A-Z0-9]{3}$/ig)) {\n      return {\n        red: parseInt(hex.substr(1, 1).repeat(2), 16),\n        green: parseInt(hex.substr(2, 1).repeat(2), 16),\n        blue: parseInt(hex.substr(3, 1).repeat(2), 16)\n      }\n    } else {\n      return { red: 0, green: 0, blue: 0 };\n    }\n  }\n\n  static HSBtoRGB(hue: number, saturation: number, brightness: number) {\n    saturation /= 100;\n    brightness /= 100;\n    var r, g, b, x, c;\n    hue = (hue % 360) / 60;\n    c = brightness * saturation;\n    x = c * (1 - Math.abs(hue % 2 - 1));\n    r = g = b = brightness - c;\n\n    hue = ~~hue;\n    r += [c, x, 0, 0, x, c][hue];\n    g += [x, c, c, x, 0, 0][hue];\n    b += [0, 0, x, c, c, x][hue];\n\n    return {\n      red: Math.round(r * 255),\n      green: Math.round(g * 255),\n      blue: Math.round(b * 255)\n    };\n  }\n\n  static RGBtoHSB(red: number, green: number, blue: number) {\n    red /= 255;\n    green /= 255;\n    blue /= 255;\n\n    var H: number, S, V, C;\n    V = Math.max(red, green, blue);\n    C = V - Math.min(red, green, blue);\n    H = (C === 0 ? null : V === red ? (green - blue) / C : V === green ? (blue - red) / C + 2 : (red - green) / C + 4);\n    H = ((H + 360) % 6) * 60;\n    S = C === 0 ? 0 : C / V;\n    return { hue: H, saturation: S * 100, brightness: V * 100 };\n  }\n\n  static HEXtoHSB(hex: string) {\n    let { red, green, blue } = Color.HEXtoRGB(hex);\n    return Color.RGBtoHSB(red, green, blue);\n  }\n\n  static HSBtoHEX(hue: number, saturation: number, brightness: number) {\n    let { red, green, blue } = Color.HSBtoRGB(hue, saturation, brightness);\n    return Color.RGBtoHEX(red, green, blue);\n  }\n\n  static setBrightness(red, green, blue, Z) {\n    if (Z < 0) {\n      red = red - (red / 100 * (-Z));\n      green = green - (green / 100 * (-Z));\n      blue = blue - (blue / 100 * (-Z));\n    } else {\n      red = ((255 - red) / 100 * Z) + red;\n      green = ((255 - green) / 100 * Z) + green;\n      blue = ((255 - blue) / 100 * Z) + blue;\n    }\n    return { red, green, blue };\n  }\n\n  static isLight(red, green, blue) {\n    return (160 > Math.round((299 * red + 587 * green + 114 * blue) / 1000));\n  }\n\n  static adjustColorLevel(hex: string, level: number) {\n    let numberOfRows = 20;\n    let step = 100 / Math.ceil(numberOfRows / 2);\n    var start_val = step * Math.floor(numberOfRows / 2);\n    let { red, green, blue } = Color.HEXtoRGB(hex);\n    level += 10;\n    var E = Color.setBrightness(red, green, blue, start_val - level * step);\n    var N = Color.isLight(red, green, blue);\n    return Color.RGBtoHEX(E.red, E.green, E.blue);\n  }\n}\n"]}