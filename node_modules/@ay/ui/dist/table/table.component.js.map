{"version":3,"sources":["../../tmp/table/table.component.ts"],"names":[],"mappings":"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","file":"table.component.js","sourceRoot":"","sourcesContent":["import { Component, AfterContentInit, OnDestroy, AfterViewInit, ViewChildren, QueryList, ContentChild, ViewEncapsulation, Output, EventEmitter, Input, ContentChildren, ElementRef, ViewChild, TemplateRef, Renderer, NgZone } from '@angular/core';\nimport { ColumnComponent } from \"../table/column.component\";\nimport { defaults, bind } from \"@ay/util/dist\";\nimport { ScrollComponent } from \"../scroll/scroll.component\";\nimport { Subscription } from \"rxjs/Rx\";\nimport { toggleClass } from \"../util/util\";\n\n\n\nexport class TableComponent implements AfterContentInit, OnDestroy, AfterViewInit {\n  //- 私有變數\n  private _columnElementsChange$: Subscription;\n  private _tbodyFreezeScrollTopChange$: Subscription;\n  private _tbodyScrollTopChange$: Subscription;\n  private _tbodyScrollLeftChange$: Subscription;\n  private _theadScrollLeftChange$: Subscription;\n\n  // 公用變數\n  public table = this;\n  public columns: ColumnComponent[] = [];\n  public sortColumn = -1;\n  public sortDirection: boolean = true;\n  /** keyword */\n  private _keyword: string;\n  \n  public page: number = 1;\n\n  \n  public displayAmount: number = 10;\n\n  \n  public keywordChange: EventEmitter<string> = new EventEmitter<string>();\n\n  \n  public get keyword(): string {\n    return this._keyword;\n  }\n\n  public set keyword(keyword: string) {\n    if (this._keyword === keyword) return;\n    this._keyword = keyword;\n    this.keywordChange.emit(this._keyword);\n  }\n\n  /** freezeWidth */\n  private _freezeWidth: number = 0;\n\n  \n  public freezeWidthChange: EventEmitter<number> = new EventEmitter<number>();\n\n  \n  public get freezeWidth(): number {\n    return this._freezeWidth;\n  }\n\n  public set freezeWidth(freezeWidth: number) {\n    if (this._freezeWidth === freezeWidth) return;\n    this._freezeWidth = freezeWidth;\n    this.freezeWidthChange.emit(this._freezeWidth);\n  }\n\n  /** thHeight */\n  private _thHeight: number = 0;\n\n  \n  public thHeightChange: EventEmitter<number> = new EventEmitter<number>();\n\n  \n  public get thHeight(): number {\n    return this._thHeight;\n  }\n\n  public set thHeight(thHeight: number) {\n    if (this._thHeight === thHeight) return;\n    this._thHeight = thHeight;\n    this.thHeightChange.emit(this._thHeight);\n  }\n\n  /** filteredData */\n  private _filteredData: any[];\n\n  \n  public filteredDataChange: EventEmitter<any[]> = new EventEmitter<any[]>();\n\n  \n  public get filteredData(): any[] {\n    return this._filteredData;\n  }\n\n  public set filteredData(filteredData: any[]) {\n    if (this._filteredData === filteredData) return;\n    this._filteredData = filteredData;\n    this.filteredDataChange.emit(this.filteredData);\n  }\n\n  /** displayData */\n  private displayData: any[];\n\n  // @Output()\n  // public displayDataChange: EventEmitter<any[]> = new EventEmitter<any[]>();\n\n  // @Input()\n  // public get displayData(): any[] {\n  //   return this._displayData;\n  // }\n\n  // public set displayData(displayData: any[]) {\n  //   if (this._displayData === displayData) return;\n  //   this._displayData = displayData;\n  //   this.displayDataChange.emit(this._displayData);\n  // }\n\n  /** data */\n  private _data: any[];\n\n  \n  public dataChange: EventEmitter<any[]> = new EventEmitter<any[]>();\n\n  \n  public get data(): any[] {\n    return this._data;\n  }\n\n  public set data(data: any[]) {\n    if (this._data === data) return;\n    this._data = data;\n    this.displayData = this.filteredData = data;\n    this.dataChange.emit(this._data);\n  }\n\n  /** filterDisable */\n  private _filterDisable: boolean;\n\n  \n  public get filterDisable(): boolean {\n    return this._filterDisable;\n  }\n\n  public set filterDisable(filter: boolean) {\n    if (this._filterDisable === filter) return;\n    this._filterDisable = filter;\n  }\n\n  /** headerDisable */\n  private _headerDisable: boolean;\n\n  \n  public get headerDisable(): boolean {\n    return this._headerDisable;\n  }\n\n  public set headerDisable(headerDisable: boolean) {\n    if (this._headerDisable === headerDisable) return;\n    this._headerDisable = headerDisable;\n  }\n\n  //- 樣板\n  /** ColumnDirective */\n  \n  public columnComponents: QueryList<ColumnComponent> = null;\n\n  /** Th */\n  \n  public defaultThTemplate: TemplateRef<any> = null;\n\n  \n  public thTemplate: TemplateRef<any> = null;\n\n  /** Td */\n  \n  public defaultTdTemplate: TemplateRef<any> = null;\n\n  \n  public tdTemplate: TemplateRef<any> = null;\n\n  /** ColumnElements */\n  \n  public columnElements: QueryList<ElementRef> = null;\n\n  /** FreezeColumnElement */\n  \n  public freezeColumnElements: QueryList<ElementRef> = null;\n\n  \n  public theadScrollComponent: ScrollComponent = null;\n\n  \n  public theadFreezeElement: ElementRef = null;\n\n  \n  public tbodyFreezeScrollComponent: ScrollComponent = null;\n\n  \n  public tbodyScrollComponent: ScrollComponent = null;\n\n\n  //- 事件函數\n  public constructor(\n    public _renderer: Renderer,\n    public _ngZone: NgZone\n  ) { }\n\n  public ngAfterViewInit() {\n    this._columnElementsChange$ = this.columnElements.changes\n      .merge(this.freezeColumnElements.changes)\n      .subscribe(this.onColumnElementsChange, this.onError);\n    this.freezeColumnElements.notifyOnChanges();\n    this.columnElements.notifyOnChanges();\n\n    setTimeout(() => {\n      this._theadScrollLeftChange$ = this.theadScrollComponent\n        .scrollLeftChange\n        .subscribe(scrollLeft => {\n          this.tbodyScrollComponent.scrollLeft = scrollLeft;\n          this.tbodyScrollComponent.recalcThumbXPosition();\n        });\n\n      this._tbodyScrollLeftChange$ = this.tbodyScrollComponent\n        .scrollLeftChange\n        .subscribe(scrollLeft => {\n          this.theadScrollComponent.scrollLeft = scrollLeft;\n          this.theadScrollComponent.recalcThumbXPosition();\n        });\n\n      this._tbodyFreezeScrollTopChange$ = this.tbodyFreezeScrollComponent\n        .scrollTopChange\n        .subscribe(scrollTop => {\n          this.tbodyScrollComponent.scrollTop = scrollTop;\n          this.tbodyScrollComponent.recalcThumbYPosition();\n        });\n\n      this._tbodyScrollTopChange$ = this.tbodyScrollComponent\n        .scrollTopChange\n        .subscribe(scrollTop => {\n          this.tbodyFreezeScrollComponent.scrollTop = scrollTop;\n          this.tbodyFreezeScrollComponent.recalcThumbYPosition();\n        });\n\n      this.addHoverClass();\n    }, 1);\n  }\n\n  public ngAfterContentInit() {\n    this.thTemplate = defaults(this.thTemplate, this.defaultThTemplate);\n    this.tdTemplate = defaults(this.tdTemplate, this.defaultTdTemplate);\n    console.log(this.columnComponents);\n    this.columns = this.columnComponents.toArray()//.sort((a, b) => +a.isFreeze - +b.isFreeze);\n    this.columns.forEach(column => {\n      if (!column.thTemplate) { column.thTemplate = this.thTemplate; }\n      if (!column.tdTemplate) { column.tdTemplate = this.tdTemplate; }\n    });\n    this.displayData = this.data;\n  }\n\n  public ngOnDestroy() {\n    this._columnElementsChange$.unsubscribe();\n    this._tbodyFreezeScrollTopChange$.unsubscribe();\n    this._tbodyScrollTopChange$.unsubscribe();\n    this._tbodyScrollLeftChange$.unsubscribe();\n    this._theadScrollLeftChange$.unsubscribe();\n  }\n\n  public onError(err) {\n    console.error(err);\n  }\n\n  @bind\n  public contains(index: number) {\n    // console.log(index, index > (this.page - 1) * this.displayAmount && index <= (this.page - 1) * (1 + this.displayAmount)\n    // ? true : false);\n    // let back = (this.page - 1) ? (this.page - 1) : 1;\n    return index > (this.page - 1) * this.displayAmount && index <= this.page * (this.displayAmount)\n      ? true : false;\n  }\n\n  @bind\n  public onColumnElementsChange() {\n    setTimeout(() => {\n      this.tbodyScrollComponent.scrollTop = 0;\n      this.tbodyScrollComponent.thumbYPosition = 0;\n      this.tbodyFreezeScrollComponent.scrollTop = 0;\n      this.tbodyFreezeScrollComponent.thumbYPosition = 0;\n\n      this.recalcColumnWidth(\n        this.columnComponents.filter(column => column.isFreeze),\n        this.freezeColumnElements.toArray()\n      );\n      this.recalcColumnWidth(\n        this.columnComponents.filter(column => !column.isFreeze),\n        this.columnElements.toArray()\n      );\n\n      // this.recalcColumnHeight(\n      //   this.columnComponents.filter(column => column.isFreeze),\n      //   this.freezeColumnElements.toArray()\n      // );\n      // this.recalcColumnHeight(\n      //   this.columnComponents.filter(column => !column.isFreeze),\n      //   this.columnElements.toArray()\n      // );\n\n      this.recalcThHeight();\n      let lastFreezeColumn = this.columnComponents.filter(column => column.isFreeze).pop();\n      this.freezeWidth = lastFreezeColumn.left + lastFreezeColumn.width;\n      this.tbodyFreezeScrollComponent.nativeElement.style.width = this.freezeWidth + \"px\";\n      this.theadFreezeElement.nativeElement.style.width = this.freezeWidth + \"px\";\n\n      this.addHoverClass();\n    }, 1);\n  }\n\n  public recalcThHeight() {\n    let thHeight = 0;\n    let freezeCount = this.columnComponents.filter(column => column.isFreeze).length;\n    let normalCount = this.columnComponents.filter(column => !column.isFreeze).length;\n    let columnElements = this.freezeColumnElements.toArray().slice(0, freezeCount)\n      .concat(this.columnElements.toArray().slice(0, normalCount));\n\n    columnElements\n      .map((columnElement, index) => {\n        columnElement.nativeElement.style.height = \"initial\";\n        thHeight = Math.max(thHeight, columnElement.nativeElement.offsetHeight);\n        return columnElement;\n      })\n      .map((columnElement, index) => {\n        columnElement.nativeElement.style.height = thHeight + \"px\";\n      });\n\n    this.theadFreezeElement.nativeElement.style.height = thHeight + \"px\";\n    this.theadScrollComponent.nativeElement.style.height = thHeight + \"px\";\n  }\n\n  public recalcColumnWidth(columns: ColumnComponent[], elements: ElementRef[]) {\n    let colHeight: number = 0;\n    columns.map(column => {\n      column.left = 0;\n      column.width = 0;\n    });\n    elements.map((columnElement, index) => {\n      this._renderer.setElementStyle(columnElement.nativeElement, \"width\", \"initial\");\n      this._renderer.setElementStyle(columnElement.nativeElement, \"height\", \"initial\");\n    });\n    let cols = columns.length;\n    let rows = this.data.length;\n    elements.map((columnElement, index) => {\n      let r = ~~(+index / cols);\n      let c = +index % cols;\n      colHeight = Math.max(colHeight, (columnElement.nativeElement as HTMLDivElement).clientHeight);\n      columns[c].width = Math.max(columns[c].width, (columnElement.nativeElement as HTMLDivElement).clientWidth);\n    });\n    for (var i = 1; i < columns.length; i++) {\n      columns[i].left = columns[i - 1].left + columns[i - 1].width;\n    }\n    elements.map((columnElement, index) => {\n      let c = +index % cols;\n      this._renderer.setElementStyle(columnElement.nativeElement, \"width\", columns[c].width + \"px\");\n      this._renderer.setElementStyle(columnElement.nativeElement, \"height\", colHeight + \"px\");\n    });\n\n    setTimeout(() => this.resize(), 1);\n  }\n\n  public recalcColumnHeight(columns: ColumnComponent[], elements: ElementRef[]) {\n    let colHeight: number = 0;\n    columns.map(column => {\n      column.top = 0;\n      column.height = 0;\n    });\n    elements.map((columnElement, index) => {\n      this._renderer.setElementStyle(columnElement.nativeElement, \"width\", \"initial\");\n    });\n    let cols = columns.length;\n    let rows = this.data.length;\n\n    elements.map((columnElement, index) => {\n      colHeight = Math.max(colHeight, (columnElement.nativeElement as HTMLDivElement).clientHeight);\n    });\n\n    elements.map((columnElement, index) => {\n      this._renderer.setElementStyle(columnElement.nativeElement, \"height\", colHeight + \"px\");\n    });\n\n    setTimeout(() => this.resize(), 1);\n  }\n\n  @bind\n  public resize() {\n    this.tbodyScrollComponent.resize();\n    this.theadScrollComponent.resize();\n    this.tbodyFreezeScrollComponent.resize();\n  }\n\n  @bind\n  public onKeywordChange(e) {\n    this.filteredData = this.data.filter(row => {\n      return this.columnComponents.reduce((prev, column) => {\n        if (prev) { return prev; }\n        if (column.filter instanceof Function) {\n          return column.filter(row[column.field], this.keyword);\n        }\n        return false;\n      }, false)\n    });\n    this.sort(this.sortColumn, false);\n  }\n\n  @bind\n  public addHoverClass() {\n    let columns = this.columns.filter(column => !column.isFreeze);\n    let freezeColumns = this.columns.filter(column => column.isFreeze);\n    let columnElements = this.columnElements.toArray();\n    let freezeColumnElements = this.freezeColumnElements.toArray();\n    this.columnElements.map((columnElement, i) => {\n      columnElement.nativeElement.addEventListener(\"mouseenter\", ($event) => {\n        let r = Math.floor(i / columns.length);\n        let c = i % columns.length;\n        columnElements.map((columnElement, j) => {\n          let _r = Math.floor(j / columns.length);\n          let _c = j % columns.length;\n          toggleClass(columnElement.nativeElement, \"hoverRow\", _r == r);\n          toggleClass(columnElement.nativeElement, \"hoverCol\", _c == c);\n        });\n        freezeColumnElements.map((columnElement, j) => {\n          let _r = Math.floor(j / freezeColumns.length);\n          let _c = j % freezeColumns.length;\n          toggleClass(columnElement.nativeElement, \"hoverRow\", _r == r);\n          toggleClass(columnElement.nativeElement, \"hoverCol\", false);\n        });\n      });\n    });\n\n    this.freezeColumnElements.map((columnElement, i) => {\n      columnElement.nativeElement.addEventListener(\"mouseenter\", ($event) => {\n        let r = Math.floor(i / freezeColumns.length);\n        let c = i % freezeColumns.length;\n        columnElements.map((columnElement, j) => {\n          let _r = Math.floor(j / columns.length);\n          let _c = j % columns.length;\n          toggleClass(columnElement.nativeElement, \"hoverRow\", _r == r);\n          toggleClass(columnElement.nativeElement, \"hoverCol\", false);\n        });\n        freezeColumnElements.map((columnElement, j) => {\n          let _r = Math.floor(j / freezeColumns.length);\n          let _c = j % freezeColumns.length;\n          toggleClass(columnElement.nativeElement, \"hoverRow\", _r == r);\n          toggleClass(columnElement.nativeElement, \"hoverCol\", _c == c);\n        });\n\n      })\n    });\n  }\n\n  @bind\n  public sort(sortColumn: number, toggle: boolean = true) {\n    if (!this.columns[sortColumn] || !this.columns[sortColumn].sort) {\n      this.displayData = this.filteredData;\n      return;\n    }\n\n    if (this.sortColumn === sortColumn && toggle) {\n      this.sortDirection = !this.sortDirection;\n      this.displayData = this.displayData.reverse();\n      return;\n    }\n\n    this.sortColumn = sortColumn;\n    this.sortDirection = true;\n    let field = this.columns[sortColumn].field;\n    let sortFn = this.columns[sortColumn].sort as Function;\n    this.displayData = this.filteredData.sort((a, b) => sortFn(a[field], b[field]));\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'ay-table',\n  template: `\n    <ng-template #systemDefaultThTemplate=\"\" let-c=\"c\" let-label=\"label\" let-table=\"table\"><div class=\"th\" (click)=\"table.sort(c)\">{{ label }}<div class=\"fa fa-sort-desc\" *ngIf=\"table.sortColumn == c &amp;&amp; sortDirection\"></div><div class=\"fa fa-sort-asc\" *ngIf=\"table.sortColumn == c &amp;&amp; !sortDirection\"></div></div></ng-template><ng-template #systemDefaultTdTemplate=\"\" let-c=\"c\" let-column=\"column\" let-field=\"field\" let-r=\"r\" let-row=\"row\" let-table=\"table\"><ng-template [ngIf]=\"column.format\" [ngIfElse]=\"elseElement\" [ngIfThen]=\"thenElement\"></ng-template><ng-template #thenElement=\"\">{{ row[field] | format: column.format }}</ng-template><ng-template #elseElement=\"\">{{ row[field] }}</ng-template></ng-template><ay-input [(data)]=\"keyword\" [show]=\"!filterDisable\" (change)=\"onKeywordChange()\" placeholder=\"搜尋表格\" icon=\"fa-search\"></ay-input><div class=\"table\"><div class=\"thead\" [show]=\"!headerDisable\"><div class=\"freeze\" #theadFreezeElement=\"\"><ng-template [ngForOf]=\"columns\" let-c=\"index\" let-column=\"\" ngFor=\"\"><ng-template [ngIf]=\"column.isFreeze\"><div class=\"th-wrapper\" #freezeColumnElements=\"\"><ng-template [ngTemplateOutlet]=\"column.thTemplate\" [ngOutletContext]=\"{ label: column.label, field: column.field, table: table, c: c }\"></ng-template></div></ng-template></ng-template></div><ay-scroll class=\"flex\" #theadScrollComponent=\"\" showX=\"false\" showY=\"false\" scrollY=\"false\"><ng-template [ngForOf]=\"columns\" let-c=\"index\" let-column=\"\" ngFor=\"\"><ng-template [ngIf]=\"!column.isFreeze\"><div class=\"th-wrapper\" #columnElement=\"\"><ng-template [ngTemplateOutlet]=\"column.thTemplate\" [ngOutletContext]=\"{ label: column.label, field: column.field, table: table, c: c }\"></ng-template></div></ng-template></ng-template></ay-scroll></div><div class=\"tbody\"><ay-scroll class=\"freeze\" #tbodyFreezeScrollComponent=\"\" showX=\"false\" showY=\"false\" scrollX=\"false\"><div class=\"tr\" *ngFor=\"let row of displayData; let r=index\"><ng-template [ngForOf]=\"columns\" let-c=\"index\" let-column=\"\" ngFor=\"\"><ng-template [ngIf]=\"column.isFreeze &amp;&amp; contains(r)\"><div class=\"td-wrapper\" #freezeColumnElements=\"\"><ng-template [ngTemplateOutlet]=\"column.tdTemplate\" [ngOutletContext]=\"{ row: row, column: column, field: column.field, table: table, r: r, c: c }\"></ng-template></div></ng-template></ng-template></div></ay-scroll><ay-scroll class=\"flex\" #tbodyScrollComponent=\"\"><div class=\"tr\" *ngFor=\"let row of displayData; let r=index\"><ng-template [ngForOf]=\"columns\" let-c=\"index\" let-column=\"\" ngFor=\"\"><ng-template [ngIf]=\"!column.isFreeze &amp;&amp; contains(r)\"><div class=\"td-wrapper\" #columnElement=\"\"><ng-template [ngTemplateOutlet]=\"column.tdTemplate\" [ngOutletContext]=\"{ row: row, column: column, field: column.field, table: table, r: r, c: c }\"></ng-template></div></ng-template></ng-template></div></ay-scroll></div></div>\n  `,\n  styles: [`\n    ay-table {\n      margin: 8px 12px; }\n      ay-table .table {\n        box-shadow: 0 1px 7px rgba(0, 0, 0, 0.05), 0 7px 17px rgba(0, 0, 0, 0.1); }\n      ay-table ay-input {\n        margin: 0; }\n      ay-table .td-wrapper,\n      ay-table .th-wrapper {\n        display: inline-block;\n        box-sizing: border-box;\n        vertical-align: top;\n        line-height: 1.5em;\n        padding: .25em .5em;\n        color: #333; }\n        ay-table .td-wrapper.hoverRow, ay-table .td-wrapper.hoverCol,\n        ay-table .th-wrapper.hoverRow,\n        ay-table .th-wrapper.hoverCol {\n          background-color: #EEE;\n          color: #000; }\n        ay-table .td-wrapper.hoverRow.hoverCol,\n        ay-table .th-wrapper.hoverRow.hoverCol {\n          background-color: #DDD; }\n      ay-table .thead {\n        height: 30px;\n        background-color: #F2F2F2; }\n        ay-table .thead .freeze {\n          background-color: #F2F2F2;\n          box-shadow: 0 1px 7px rgba(0, 0, 0, 0.05), 0 7px 17px rgba(0, 0, 0, 0.1);\n          z-index: 2;\n          vertical-align: top;\n          position: relative; }\n        ay-table .thead .flex {\n          background-color: #F2F2F2;\n          box-shadow: 0 1px 7px rgba(0, 0, 0, 0.05), 0 7px 17px rgba(0, 0, 0, 0.1);\n          z-index: 1;\n          vertical-align: top;\n          position: relative; }\n      ay-table .tbody {\n        overflow: hidden;\n        background-color: #F2F2F2; }\n        ay-table .tbody .freeze {\n          box-shadow: 0 1px 7px rgba(0, 0, 0, 0.05), 0 7px 17px rgba(0, 0, 0, 0.1);\n          z-index: 1;\n          vertical-align: top; }\n      ay-table .th .fa {\n        float: right;\n        line-height: 1.5em;\n        color: #666; }\n      ay-table .thead,\n      ay-table .tbody {\n        display: inline-block;\n        display: flex;\n        flex-direction: row; }\n        ay-table .thead .freeze,\n        ay-table .tbody .freeze {\n          display: inline-block; }\n        ay-table .thead .flex,\n        ay-table .tbody .flex {\n          flex: 1; }\n      ay-table .disable {\n        display: none; }\n  `],\n  encapsulation: ViewEncapsulation.None\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Renderer, },\n{type: NgZone, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'page': [{ type: Input },],\n'displayAmount': [{ type: Input },],\n'keywordChange': [{ type: Output },],\n'keyword': [{ type: Input },],\n'freezeWidthChange': [{ type: Output },],\n'freezeWidth': [{ type: Input },],\n'thHeightChange': [{ type: Output },],\n'thHeight': [{ type: Input },],\n'filteredDataChange': [{ type: Output },],\n'filteredData': [{ type: Input },],\n'dataChange': [{ type: Output },],\n'data': [{ type: Input },],\n'filterDisable': [{ type: Input },],\n'headerDisable': [{ type: Input },],\n'columnComponents': [{ type: ContentChildren, args: [ColumnComponent, ] },],\n'defaultThTemplate': [{ type: ViewChild, args: [\"systemDefaultThTemplate\", ] },],\n'thTemplate': [{ type: ContentChild, args: [\"defaultThTemplate\", ] },],\n'defaultTdTemplate': [{ type: ViewChild, args: [\"systemDefaultTdTemplate\", ] },],\n'tdTemplate': [{ type: ContentChild, args: [\"defaultTdTemplate\", ] },],\n'columnElements': [{ type: ViewChildren, args: [\"columnElement\", ] },],\n'freezeColumnElements': [{ type: ViewChildren, args: [\"freezeColumnElements\", ] },],\n'theadScrollComponent': [{ type: ViewChild, args: [\"theadScrollComponent\", ] },],\n'theadFreezeElement': [{ type: ViewChild, args: [\"theadFreezeElement\", ] },],\n'tbodyFreezeScrollComponent': [{ type: ViewChild, args: [\"tbodyFreezeScrollComponent\", ] },],\n'tbodyScrollComponent': [{ type: ViewChild, args: [\"tbodyScrollComponent\", ] },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}